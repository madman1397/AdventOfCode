// popup.html

<!DOCTYPE html>
<html>
  <head>
    <title>Discord Activity</title>
  </head>
  <body>
    <h1>Discord Activity</h1>
    <p>
      You have been active on Discord for:
      <span id="activity-time"></span>
    </p>
  </body>
  <script>
    // Get the current tab
    chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {
      // Check if the current tab is a Discord tab
      if (tabs[0].url.includes("discord.com")) {
        // Calculate the time spent on Discord by getting the tab's last updated time
        // and subtracting it from the current time
        let timeSpent = Date.now() - tabs[0].lastUpdated;
        // Convert the time to minutes and seconds
        let minutes = Math.floor(timeSpent / 60000);
        let seconds = Math.floor(timeSpent % 60000 / 1000);
        // Update the HTML element with the time spent on Discord
        let activityTime = document.getElementById("activity-time");
        activityTime.innerHTML = `${minutes} minutes and ${seconds} seconds`;
      }
    });
  </script>
</html>
